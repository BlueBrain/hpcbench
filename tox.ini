[tox]
minversion = 2.4
envlist = py27,py34,py35,py36

[testenv]
deps =
    -rrequirements-dev.txt
usedevelop = True
extras =
  PLOTTING
commands =
    python setup.py nosetests --with-coverage --cover-inclusive --cover-erase {posargs}
    flake8 hpcbench tests
    -pylint hpcbench --ignore ext
passenv =
  UT_ELASTICSEARCH_HOST
  UT_KEEP_ELASTICSEARCH_INDEX
  UT_SKIP_ELASTICSEARCH
  LD_LIBRARY_PATH
  TRAVIS_TAG

[testenv:clean]
deps =
    -rrequirements-dev.txt
commands=
    coverage erase

[testenv:coverage]
deps:
    -rrequirements-dev.txt
commands=
    coverage report
    coverage html
